<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>اپلیکیشن آموزش اتاق عمل</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-blue: #0077b6;
            --light-blue: #90e0ef;
            --dark-blue: #023e8a;
            --background: #f0f4f8;
            --white: #ffffff;
            --text-dark: #333333;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
            --gray: #6c757d;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--background);
            color: var(--text-dark);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            max-width: 100%;
            margin: 0 auto;
            padding: 0;
        }

        /* صفحه اصلی */
        #main-page {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* نوار بالایی */
        .top-bar {
            background: linear-gradient(135deg, var(--primary-blue), var(--dark-blue));
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .menu-btn, .exit-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 5px 10px;
        }

        .app-title {
            font-size: 1.2rem;
            font-weight: bold;
        }

        /* محتوای اصلی */
        .main-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .menu-card {
            background-color: var(--white);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            text-align: center;
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .menu-card:hover {
            transform: translateY(-5px);
        }

        .menu-card i {
            font-size: 3rem;
            margin-bottom: 15px;
            color: var(--primary-blue);
        }

        .menu-card h2 {
            color: var(--primary-blue);
            margin-bottom: 10px;
        }

        .menu-card p {
            color: var(--gray);
        }

        .progress-section {
            background-color: var(--white);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }

        .progress-item {
            margin-bottom: 15px;
        }

        .progress-bar {
            height: 10px;
            background-color: #e9ecef;
            border-radius: 5px;
            overflow: hidden;
            margin-top: 5px;
        }

        .progress {
            height: 100%;
            background: linear-gradient(to right, var(--light-blue), var(--primary-blue));
            border-radius: 5px;
        }

        .footer {
            text-align: center;
            padding: 20px;
            color: var(--gray);
            background-color: var(--white);
            margin-top: 20px;
        }

        /* منوی کشویی */
        .side-menu {
            position: fixed;
            top: 0;
            right: -300px;
            width: 300px;
            height: 100%;
            background-color: var(--white);
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
            transition: right 0.3s ease;
            z-index: 1000;
            display: flex;
            flex-direction: column;
        }

        .side-menu.active {
            right: 0;
        }

        .menu-header {
            background: linear-gradient(135deg, var(--primary-blue), var(--dark-blue));
            color: white;
            padding: 20px;
            text-align: center;
        }

        .menu-items {
            flex: 1;
            padding: 0;
            overflow-y: auto;
        }

        .menu-item {
            padding: 15px 20px;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .menu-item:hover {
            background-color: #f8f9fa;
        }

        .menu-item i {
            margin-left: 10px;
            color: var(--primary-blue);
            font-size: 1.2rem;
            width: 24px;
            text-align: center;
        }

        .menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 999;
            display: none;
        }

        .menu-overlay.active {
            display: block;
        }

        /* صفحات مختلف */
        .page {
            display: none;
            min-height: 100vh;
            background-color: var(--background);
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow-y: auto;
            z-index: 100;
        }

        .page.active {
            display: block;
        }

        .page-header {
            background: linear-gradient(135deg, var(--primary-blue), var(--dark-blue));
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .back-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
        }

        .back-btn i {
            margin-right: 5px;
        }

        .page-content {
            padding: 20px;
            padding-bottom: 80px;
            overflow-y: auto;
        }

        /* صفحه انیمیشن‌ها */
        .circles-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 20px;
        }

        @media (min-width: 768px) {
            .circles-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        .circle-card {
            background: linear-gradient(135deg, var(--white), #f8f9fa);
            border-radius: 50%;
            width: 140px;
            height: 140px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin: 0 auto;
            padding: 15px;
            cursor: pointer;
            transition: transform 0.3s ease;
            position: relative;
        }

        .circle-card:hover {
            transform: scale(1.05);
        }

        .circle-card i {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--primary-blue);
        }

        .circle-card h3 {
            font-size: 0.9rem;
        }

        .step-number {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--primary-blue);
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 0.8rem;
            font-weight: bold;
        }

        /* صفحه پخش ویدیو */
        .video-player-container {
            background-color: var(--white);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }

        .video-wrapper {
            position: relative;
            width: 100%;
            padding-top: 56.25%; /* 16:9 Aspect Ratio */
            margin-bottom: 20px;
            background-color: #000;
            border-radius: 10px;
            overflow: hidden;
        }

        .video-wrapper video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 10px;
        }

        .video-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
        }

        .video-controls button {
            background: var(--primary-blue);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .video-info {
            margin-bottom: 20px;
        }

        .video-info h3 {
            color: var(--primary-blue);
            margin-bottom: 10px;
        }

        /* صفحه پنل کاربری */
        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .form-control {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }

        .btn {
            background: var(--primary-blue);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            display: inline-block;
            text-align: center;
        }

        .btn-block {
            display: block;
            width: 100%;
        }

        .card {
            background-color: var(--white);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
        }

        .card h3 {
            margin-bottom: 15px;
            color: var(--primary-blue);
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }

        /* صفحه آزمون */
        .quiz-container {
            background-color: var(--white);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            margin-bottom: 20px;
            transition: background-color 0.5s ease;
        }

        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }

        .quiz-question {
            margin-bottom: 20px;
            font-size: 1.1rem;
        }

        .quiz-options {
            margin-bottom: 20px;
        }

        .quiz-option {
            padding: 12px 15px;
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 5px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .quiz-option:hover {
            background-color: #e9ecef;
        }

        .quiz-option.selected {
            background-color: var(--light-blue);
            border-color: var(--primary-blue);
        }

        .quiz-navigation {
            display: flex;
            justify-content: space-between;
        }

        .quiz-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
        }

        .quiz-btn:disabled {
            background-color: #6c757d;
            cursor: not-allowed;
        }

        /* انیمیشن‌های پاسخ */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
            20%, 40%, 60%, 80% { transform: translateX(10px); }
        }

        .shake {
            animation: shake 0.5s;
        }

        /* صفحه دفترچه یادداشت */
        .notes-editor {
            width: 100%;
            height: 300px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            resize: vertical;
        }

        /* صفحه ارتباط با ما */
        .contact-info {
            margin-bottom: 20px;
        }

        .contact-item {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 5px;
        }

        .contact-item i {
            margin-left: 10px;
            color: var(--primary-blue);
            font-size: 1.2rem;
            width: 24px;
            text-align: center;
        }

        /* انیمیشن جشن */
        .celebration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2000;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #f00;
            opacity: 0.8;
            animation: confetti-fall 3s ease-in-out forwards;
        }

        @keyframes confetti-fall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .celebration-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 4rem;
            font-weight: bold;
            color: #ffd700;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            animation: celebration-pulse 1.5s infinite;
            z-index: 2001;
        }

        @keyframes celebration-pulse {
            0% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.2); }
            100% { transform: translate(-50%, -50%) scale(1); }
        }

        .celebration-firework {
            position: absolute;
            width: 5px;
            height: 5px;
            border-radius: 50%;
            animation: firework-explode 1.5s ease-out forwards;
        }

        @keyframes firework-explode {
            0% {
                transform: translate(0, 0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty)) scale(0);
                opacity: 0;
            }
        }

        /* صفحه اهداف ما */
        .mission-content {
            line-height: 1.8;
            text-align: justify;
        }

        .mission-content p {
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- صفحه اصلی -->
        <div id="main-page" class="page active">
            <!-- نوار بالایی -->
            <div class="top-bar">
                <button class="menu-btn" id="menu-toggle">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="app-title">آموزش اتاق عمل</div>
                <button class="exit-btn" id="exit-app">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>

            <!-- محتوای اصلی -->
            <div class="main-content">
                <div class="menu-card" id="animations-btn">
                    <i class="fas fa-film"></i>
                    <h2>انیمیشن‌ها</h2>
                    <p>تماشای انیمیشن‌های آموزشی مراحل آماده‌سازی اتاق عمل</p>
                </div>
                
                <div class="menu-card" id="quiz-btn">
                    <i class="fas fa-clipboard-check"></i>
                    <h2>آزمون</h2>
                    <p>شرکت در آزمون‌های چهارگزینه‌ای برای سنجش دانش</p>
                </div>

                <div class="progress-section">
                    <h3>پیشرفت شما</h3>
                    <div class="progress-item">
                        <div>انیمیشن‌ها: <span id="animations-progress">0/8</span></div>
                        <div class="progress-bar">
                            <div class="progress" id="animations-progress-bar" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="progress-item">
                        <div>آزمون‌ها: <span id="quiz-progress">0/8</span></div>
                        <div class="progress-bar">
                            <div class="progress" id="quiz-progress-bar" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- فوتر -->
            <div class="footer">
                علوم پزشکی همدان
            </div>
        </div>

        <!-- صفحه انیمیشن‌ها -->
        <div id="animations-page" class="page">
            <div class="page-header">
                <button class="back-btn" id="back-from-animations">
                    <i class="fas fa-arrow-right"></i> بازگشت
                </button>
                <div>انیمیشن‌های آموزشی</div>
                <div style="width: 80px;"></div> <!-- برای بالانس کردن فضا -->
            </div>
            
            <div class="page-content">
                <p>برای مشاهده هر درس، روی آن کلیک کنید:</p>
                
                <div class="circles-grid">
                    <div class="circle-card" data-lesson="1">
                        <div class="step-number">1</div>
                        <i class="fas fa-hands-wash"></i>
                        <h3>اسکراب کردن</h3>
                    </div>
                    <div class="circle-card" data-lesson="2">
                        <div class="step-number">2</div>
                        <i class="fas fa-hands"></i>
                        <h3>خشک کردن دست</h3>
                    </div>
                    <div class="circle-card" data-lesson="3">
                        <div class="step-number">3</div>
                        <i class="fas fa-user-md"></i>
                        <h3>پوشیدن گان</h3>
                    </div>
                    <div class="circle-card" data-lesson="4">
                        <div class="step-number">4</div>
                        <i class="fas fa-hand-paper"></i>
                        <h3>پوشیدن دستکش</h3>
                    </div>
                    <div class="circle-card" data-lesson="5">
                        <div class="step-number">5</div>
                        <i class="fas fa-procedures"></i>
                        <h3>پرپ کردن</h3>
                    </div>
                    <div class="circle-card" data-lesson="6">
                        <div class="step-number">6</div>
                        <i class="fas fa-bed"></i>
                        <h3>درپ کردن</h3>
                    </div>
                    <div class="circle-card" data-lesson="7">
                        <div class="step-number">7</div>
                        <i class="fas fa-tools"></i>
                        <h3>چیدمان ست جراحی</h3>
                    </div>
                    <div class="circle-card" data-lesson="8">
                        <div class="step-number">8</div>
                        <i class="fas fa-cut"></i>
                        <h3>استفاده از تیغ بیستوری</h3>
                    </div>
                </div>
            </div>
        </div>

        <!-- صفحه پخش ویدیو -->
        <div id="video-player-page" class="page">
            <div class="page-header">
                <button class="back-btn" id="back-from-video">
                    <i class="fas fa-arrow-right"></i> بازگشت
                </button>
                <div id="video-lesson-title">اسکراب کردن</div>
                <div style="width: 80px;"></div> <!-- برای بالانس کردن فضا -->
            </div>
            
            <div class="page-content">
                <div class="video-player-container">
                    <div class="video-info">
                        <h3 id="video-title">اسکراب کردن</h3>
                        <p id="video-description">اسکراب کردن فرآیند شستشوی دقیق دست و ساعد قبل از انجام عمل جراحی است که برای کاهش خطر عفونت انجام می‌شود.</p>
                    </div>
                    
                    <div class="video-wrapper">
                        <video id="educational-video" controls playsinline>
                            <source src="" type="video/mp4">
                            مرورگر شما از پخش ویدیو پشتیبانی نمی‌کند. لطفاً از مرورگر جدیدتری استفاده کنید.
                        </video>
                    </div>
                    
                    <div class="video-controls">
                        <button id="play-pause-btn">
                            <i class="fas fa-play"></i> پخش
                        </button>
                        <div>
                            <span id="video-progress">پیشرفت: 0%</span>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3><i class="fas fa-edit"></i> یادداشت‌های شما</h3>
                    <textarea class="notes-editor" id="video-notes" placeholder="نکات مهم این درس را اینجا یادداشت کنید..."></textarea>
                    <button class="btn btn-block" id="save-video-notes">ذخیره یادداشت</button>
                </div>
            </div>
        </div>

        <!-- صفحه آزمون -->
        <div id="quiz-page" class="page">
            <div class="page-header">
                <button class="back-btn" id="back-from-quiz">
                    <i class="fas fa-arrow-right"></i> بازگشت
                </button>
                <div>آزمون‌های آموزشی</div>
                <div style="width: 80px;"></div> <!-- برای بالانس کردن فضا -->
            </div>
            
            <div class="page-content">
                <p>برای شرکت در آزمون هر درس، روی آن کلیک کنید:</p>
                
                <div class="circles-grid">
                    <div class="circle-card" data-quiz="1">
                        <div class="step-number">1</div>
                        <i class="fas fa-hands-wash"></i>
                        <h3>آزمون اسکراب کردن</h3>
                    </div>
                    <div class="circle-card" data-quiz="2">
                        <div class="step-number">2</div>
                        <i class="fas fa-hands"></i>
                        <h3>آزمون خشک کردن دست</h3>
                    </div>
                    <div class="circle-card" data-quiz="3">
                        <div class="step-number">3</div>
                        <i class="fas fa-user-md"></i>
                        <h3>آزمون پوشیدن گان</h3>
                    </div>
                    <div class="circle-card" data-quiz="4">
                        <div class="step-number">4</div>
                        <i class="fas fa-hand-paper"></i>
                        <h3>آزمون پوشیدن دستکش</h3>
                    </div>
                    <div class="circle-card" data-quiz="5">
                        <div class="step-number">5</div>
                        <i class="fas fa-procedures"></i>
                        <h3>آزمون پرپ کردن</h3>
                    </div>
                    <div class="circle-card" data-quiz="6">
                        <div class="step-number">6</div>
                        <i class="fas fa-bed"></i>
                        <h3>آزمون درپ کردن</h3>
                    </div>
                    <div class="circle-card" data-quiz="7">
                        <div class="step-number">7</div>
                        <i class="fas fa-tools"></i>
                        <h3>آزمون چیدمان ست</h3>
                    </div>
                    <div class="circle-card" data-quiz="8">
                        <div class="step-number">8</div>
                        <i class="fas fa-cut"></i>
                        <h3>آزمون تیغ بیستوری</h3>
                    </div>
                </div>
            </div>
        </div>

        <!-- صفحه پنل کاربری -->
        <div id="user-profile-page" class="page">
            <div class="page-header">
                <button class="back-btn" id="back-from-user-profile">
                    <i class="fas fa-arrow-right"></i> بازگشت
                </button>
                <div>پنل کاربری</div>
                <div style="width: 80px;"></div> <!-- برای بالانس کردن فضا -->
            </div>
            
            <div class="page-content">
                <div class="card">
                    <h3>اطلاعات شخصی</h3>
                    <div class="form-group">
                        <label for="first-name">نام</label>
                        <input type="text" id="first-name" class="form-control" placeholder="نام خود را وارد کنید">
                    </div>
                    <div class="form-group">
                        <label for="last-name">نام خانوادگی</label>
                        <input type="text" id="last-name" class="form-control" placeholder="نام خانوادگی خود را وارد کنید">
                    </div>
                    <div class="form-group">
                        <label for="field">رشته تحصیلی</label>
                        <input type="text" id="field" class="form-control" placeholder="رشته تحصیلی خود را وارد کنید">
                    </div>
                    <div class="form-group">
                        <label for="term">ترم</label>
                        <input type="number" id="term" class="form-control" placeholder="ترم تحصیلی خود را وارد کنید">
                    </div>
                    <button class="btn btn-block" id="save-profile">ذخیره اطلاعات</button>
                </div>

                <div class="card">
                    <h3>آمار و پیشرفت</h3>
                    <div class="progress-item">
                        <div>پیشرفت کلی: <span id="overall-progress">0%</span></div>
                        <div class="progress-bar">
                            <div class="progress" id="overall-progress-bar" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="progress-item">
                        <div>میانگین نمرات: <span id="average-score">0</span></div>
                    </div>
                </div>

                <div class="card">
                    <h3>نمرات آزمون‌ها</h3>
                    <div id="quiz-scores">
                        <!-- نمرات به صورت داینامیک اضافه خواهند شد -->
                    </div>
                </div>
            </div>
        </div>

        <!-- صفحه دفترچه یادداشت -->
        <div id="notebook-page" class="page">
            <div class="page-header">
                <button class="back-btn" id="back-from-notebook">
                    <i class="fas fa-arrow-right"></i> بازگشت
                </button>
                <div>دفترچه یادداشت</div>
                <div style="width: 80px;"></div> <!-- برای بالانس کردن فضا -->
            </div>
            
            <div class="page-content">
                <textarea class="notes-editor" id="notes-editor" placeholder="یادداشت‌های خود را اینجا بنویسید..."></textarea>
                <button class="btn btn-block" id="save-notes" style="margin-top: 15px;">ذخیره یادداشت</button>
            </div>
        </div>

        <!-- صفحه اهداف ما -->
        <div id="mission-page" class="page">
            <div class="page-header">
                <button class="back-btn" id="back-from-mission">
                    <i class="fas fa-arrow-right"></i> بازگشت
                </button>
                <div>اهداف ما</div>
                <div style="width: 80px;"></div> <!-- برای بالانس کردن فضا -->
            </div>
            
            <div class="page-content">
                <div class="card">
                    <h3>درباره این پروژه</h3>
                    <div class="mission-content">
                        <p>این کار با همکاری گروه فناوری اطلاعات سلامت و اتاق عمل در دانشگاه علوم پزشکی همدان ایجاد شده است.</p>
                        <p>هدف اصلی این اپلیکیشن، ارائه آموزش‌های تخصصی و استاندارد برای دانشجویان و کارکنان اتاق عمل است تا بتوانند مهارت‌های لازم برای آماده‌سازی و مدیریت اتاق عمل را به صورت مؤثر فراگیرند.</p>
                        <p>ما معتقدیم که آموزش صحیح و استاندارد می‌تواند کیفیت خدمات ارائه شده در اتاق عمل را به طور قابل توجهی بهبود بخشد و در نهایت به ارتقای سلامت جامعه کمک کند.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- صفحه ارتباط با ما -->
        <div id="contact-page" class="page">
            <div class="page-header">
                <button class="back-btn" id="back-from-contact">
                    <i class="fas fa-arrow-right"></i> بازگشت
                </button>
                <div>ارتباط با ما</div>
                <div style="width: 80px;"></div> <!-- برای بالانس کردن فضا -->
            </div>
            
            <div class="page-content">
                <div class="card">
                    <h3>راه‌های ارتباطی</h3>
                    <div class="contact-info">
                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <span>surgilearn.medical@gmail.com
                             </span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>همدان، دانشگاه علوم پزشکی</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-phone"></i>
                            <span>0937075513</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- صفحه آزمون فعال -->
        <div id="active-quiz-page" class="page">
            <div class="page-header">
                <button class="back-btn" id="back-from-active-quiz">
                    <i class="fas fa-arrow-right"></i> بازگشت
                </button>
                <div id="active-quiz-title">آزمون اسکراب کردن</div>
                <div style="width: 80px;"></div> <!-- برای بالانس کردن فضا -->
            </div>
            
            <div class="page-content">
                <div class="quiz-container" id="quiz-container">
                    <div class="quiz-header">
                        <h3 id="quiz-section-title">آزمون آموزشی</h3>
                        <div id="quiz-progress-text">سوال 1 از 10</div>
                    </div>
                    <div class="quiz-question">
                        <p id="quiz-question-text">کدام یک از موارد زیر جزء مراحل صحیح اسکراب جراحی محسوب می‌شود؟</p>
                    </div>
                    <div class="quiz-options" id="quiz-options">
                        <div class="quiz-option" data-option="0">شستن دست‌ها به مدت 2 دقیقه</div>
                        <div class="quiz-option" data-option="1">استفاده از برس ناخن قبل از شستشو</div>
                        <div class="quiz-option" data-option="2">شستشوی دست از نوک انگشتان به سمت آرنج</div>
                        <div class="quiz-option" data-option="3">خشک کردن دست با حوله معمولی</div>
                    </div>
                    <div class="quiz-navigation">
                        <button class="quiz-btn" id="prev-question" disabled>سوال قبل</button>
                        <button class="quiz-btn" id="next-question">سوال بعد</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- منوی کشویی -->
        <div class="menu-overlay" id="menu-overlay"></div>
        <div class="side-menu" id="side-menu">
            <div class="menu-header">
                <h3>منوی اصلی</h3>
                <p>اپلیکیشن آموزش اتاق عمل</p>
            </div>
            <div class="menu-items">
                <div class="menu-item" id="menu-user-profile">
                    <i class="fas fa-user"></i>
                    <span>پنل کاربری</span>
                </div>
                <div class="menu-item" id="menu-mission">
                    <i class="fas fa-bullseye"></i>
                    <span>اهداف ما</span>
                </div>
                <div class="menu-item" id="menu-notebook">
                    <i class="fas fa-book"></i>
                    <span>دفترچه یادداشت</span>
                </div>
                <div class="menu-item" id="menu-contact">
                    <i class="fas fa-envelope"></i>
                    <span>ارتباط با ما</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // داده‌های نمونه برای ویدیوها
        const videoData = {
            1: {
                title: "اسکراب کردن",
                description: "با استفاده از محلول ضدعفونی‌کننده (مانند کلرهگزیدین یا بتادین)، اسکراب از زیر ناخن‌ها و نوک انگشتان آغاز شده و هر انگشت، کف دست، پشت دست، مچ و ساعد تا ۵ سانتی‌متر بالای آرنج به‌صورت خطی و بدون بازگشت شست‌وشو داده می‌شود. این فرآیند برای هر دو دست انجام می‌گیرد و معمولاً ۵ تا ۷ دقیقه زمان می‌برد.پس از شست‌وشوی کامل، مرحله آبکشی انجام می‌شود. در این مرحله، دست‌ها به‌گونه‌ای با آب ولرم آبکشی می‌شوند که جریان آب از انگشتان به سمت آرنج حرکت کند. دست‌ها باید بالاتر از سطح آرنج نگه داشته شوند تا از آلودگی مجدد جلوگیری شود، و هیچ‌گونه تماس با شیر آب یا لباس مجاز نیست.",
                videoUrl: "./videos/scrub.mp4" // شما باید این مسیر را با مسیر واقعی ویدیوها جایگزین کنید
            },
            2: {
                title: "خشک کردن دست",
                description: "ابتدا با یک دست گوشه‌ای از حوله گرفته و آن را بردارید. دقت شود که قطرات آب از دست روی میز یا لباس نریزد. سپس با دست دیگر گوشه‌ی مقابل حوله را گرفته و حوله را باز کنید. از یکی از انتهای حوله برای خشک کردن دست و بازوی یک طرف استفاده کنید؛ این کار با حرکت ضربه‌ای از سمت دست به سمت بازو انجام می‌شود. کمی به سمت جلو خم شوید تا حوله با لباس تماس نداشته باشد. برای خشک کردن دست دیگر، قسمت خشک و تمیز حوله را با دست مخالف گرفته و مجدداً از پایین به بالا، دست و بازو را خشک نمایید. پس از پایان، حوله را بدون تماس با لباس اتاق عمل دور بیندازید.",
                videoUrl: "./videos/drying.mp4"
            },
            3: {
                title: "پوشیدن گان",
                description: "گان بر روی لباس اسکراب پوشیده می‌شود تا فرد بتواند وارد محیط استریل شود. گان را از قسمت پایین یقه گرفته و مستقیماً به سمت بالا بلند کنید. گان را با فاصله از بدن نگه دارید و به‌آرامی تای آن را باز نمایید. دست‌ها را به داخل آستین‌ها وارد کنید و دقت شود که پوست با سطح خارجی استریل گان تماس نداشته باشد. سپس فرد سیرکولر بندهای پشت و کمری گان را می‌بندد.",
                videoUrl: "videos/gowning.mp4"
            },
            4: {
                title: "پوشیدن دستکش",
                description: "در این مرحله، دست‌ها باید داخل آستین گان باقی بمانند. کف دست‌ها رو به بالا گرفته شود. دستکش اول را روی سر آستین گان قرار دهید، طوری‌که انگشتان دست و دستکش در یک امتداد و شست‌ها مقابل یکدیگر باشند. از لمس کردن لبه‌ی دستکش خودداری شود. انگشتان را به داخل دستکش ببرید و با کمک دست دیگر که هنوز در سر آستین قرار دارد، دستکش را روی مچ بکشید. سپس با دستی که دستکش دارد، دستکش دوم را برداشته و روی دست دیگر قرار دهید. این مرحله را با دقت تکرار کنید. در نهایت، دستکش‌ها مرتب شوند و دقت شود که در تمام مراحل دست‌ها بالاتر از سطح کمر باقی بمانند.",
                videoUrl: "./videos/gloving.mp4"
            },
            5: {
                title: "پرپ کردن",
                description: "پرپ به معنای آماده‌سازی پوست جهت انجام جراحی است. ابتدا دستکش استریل پوشیده شود. سپس با محلول بتادین قهوه‌ای، از نقطه‌ی انسزیون به صورت دایره‌وار به سمت اطراف محل جراحی شست‌وشو انجام شود. این شست‌وشو به‌صورت مالشی و ملایم انجام می‌گیرد.",
                videoUrl: "./videos/prepping.mp4"
            },
            6: {
                title: "درپ کردن",
                description: "درپ کردن ناحیه جراحی یکی از مراحل حیاتی در حفظ استریلیتی و آماده‌سازی میدان جراحی است و باید حتماً توسط فردی انجام شود که اسکراب کامل کرده و مجهز به دستکش و گان استریل است. در این فرآیند، ابتدا درپ‌های استریل مناسب بر اساس نوع جراحی و ناحیه آناتومیک انتخاب می‌شود. فرد اسکراب باید در هنگام اعمال هر لایه درپ، مراقب باشد که پارچه‌ها تنها با سطح استریل دستکش تماس داشته باشند و از لمس پوست غیر‌پرپ‌شده، لباس بیمار یا سطوح خارجی اجتناب شود. قرار دادن درپ‌ها باید به‌گونه‌ای باشد که میدان عمل صاف، بدون چین‌خوردگی، و با ابعاد مناسب ایجاد شود.",
                videoUrl: "./videos/draping.mp4"
            },
            7: {
                title: "چیدمان ست جراحی",
                description: "ابزارها بر اساس نوع عمل، ترتیب استفاده، و کاربردشان مرتب می‌شوند. در تمامی مراحل چیدمان، اصل استریلیتی باید حفظ شود و هیچ‌گونه تماس با لباس، پوست، یا سطوح غیر استریل مجاز نیست. همچنین فرد اسکراب‌شده موظف است ابزارها را به‌گونه‌ای بچیند که دسترسی برای جراح و پرستار در حین عمل به‌راحتی امکان‌پذیر باشد و ابزارها در خط دید و محدوده‌ی حرکتی قرار داشته باشند.",
                videoUrl: "./videos/setup.mp4"
            },
            8: {
                title: "استفاده از تیغ بیستوری",
                description: "ابتدا تیغ استریل را با پنس یا فورسپس از لبه بر می‌داریم. دسته بیستوری را در دست نگه می‌داریم به‌طوری‌که شکاف تیغه‌خور دسته مقابل‌مان باشد. تیغ باید از قسمت پشتی (جایی که سوراخ یا شکاف دارد) در زاویه مناسب، روی شکاف دسته قرار گیرد. با فشار نرم و کنترل‌شده، تیغ در ریل دسته قرار می‌گیرد و به جلو هل داده می‌شود تا کاملاً در جای خود قفل شود و تکان نخورد.",
                videoUrl: "videos/scalpel.mp4"
            }
        };

        // داده‌های نمونه برای آزمون (10 سوال برای هر آزمون)
        const quizData = {
            1: {
                title: "آزمون اسکراب کردن",
                questions: [
                    {
                        text: "اسکراب کردن از کدام ناحیه آغاز می‌شود؟",
                        options: [
                            "مچ دست",
                            "نوک انگشتان و زیر ناخن ها",
                            "پشت دست",
                            "کف دست"
                        ],
                        correctAnswer: 2
                    },
                    {
                        text: "تا چه ارتفاعی از ساعد باید اسکراب انجام شود؟",
                        options: [
                            "تا 5 سانتی‌متر بالای آرنج",
                            "تا مچ دست",
                            "تا شانه",
                            "تا آرنج"
                        ],
                        correctAnswer: 1
                    },
                    {
                        text: "مدت زمان استاندارد اسکراب کردن هر دو دست چقدر است؟",
                        options: [
                            "2 دقیقه",
                            "15 دقیقه",
                            "5-7 دقیقه",
                            "12 دقیقه"
                        ],
                        correctAnswer: 3
                    },
                    {
                        text: "در مرحله آبکشی، جهت جریان آب باید چگونه باشد؟",
                        options: [
                            "کف دست",
                            "از آرنج به انگشتان",
                            " از انگشتان به آرنج",
                            "تمام موارد"
                        ],
                        correctAnswer: 3
                    },
                    {
                        text: "پس از اتمام اسکراب، دست‌ها باید چگونه خشک شوند؟",
                        options: [
                            "با حوله کاغذی",
                            "با حوله پارچه‌ای",
                            "با هوای آزاد",
                            "با دستمال استریل"
                        ],
                        correctAnswer: 3
                    },
                    {
                        text: "در طول اسکراب، تماس با کدام موارد ممنوع است؟",
                        options: [
                            "شیر آب و لباس",
                            "گان استریل",
                            "میز جراحی",
                             "حوله استریل"
                        ],
                        correctAnswer: 1
                    },
                    {
                        text: "در اسکراب کردن، چه محلول‌هایی معمولاً استفاده می‌شوند؟",
                        options: [
                            "الکل و آب",
                            "کلرهگزیدین یا بتادین",
                            "صابون معمولی",
                            "آب اکسیژنه"
                        ],
                        correctAnswer: 2
                    },
                    {
                        text: "کدام یک از موارد زیر در مورد اسکراب جراحی صحیح نیست؟",
                        options: [
                            "انگشتر و زیورآلات باید خارج شوند",
                            "ناخن‌ها باید کوتاه باشند",
                            "می‌توان از لاک ناخن استفاده کرد",
                            "دست‌ها باید بالاتر از آرنج نگه داشته شوند"
                        ],
                        correctAnswer: 2
                    },
                    {
                        text: "در صورت تماس دست اسکراب شده با سطح غیر استریل، چه اقدامی باید انجام شود؟",
                        options: [
                            "اسکراب مجدد",
                            "شستشو با الکل",
                            "تعویض دستکش",
                            "هیچ کدام"
                        ],
                        correctAnswer: 0
                    },
                    {
                        text: "کدام یک از موارد زیر در مورد زمان اسکراب صحیح است؟",
                        options: [
                            "قبل از اولین عمل روز",
                            "بعد از هر عمل",
                            "هر دو مورد",
                            "هیچ کدام"
                        ],
                        correctAnswer: 2
                    }
                ]
            },
            2: {
                title: "آزمون خشک کردن دست",
                questions: [
                    {
                        text: "پس از اسکراب کردن، دست‌ها باید چگونه خشک شوند؟",
                        options: [
                            "با حوله کاغذی غیر استریل",
                            "با حوله پارچه‌ای معمولی",
                            "با دستمال استریل یکبار مصرف",
                            "با هوای گرم"
                        ],
                        correctAnswer: 2
                    },
                    {
                        text: "کدام روش برای خشک کردن دست بعد از اسکراب صحیح است؟",
                        options: [
                            "از مچ دست به سمت انگشتان",
                            "از انگشتان به سمت مچ دست",
                            "به صورت دایره‌ای",
                            "به صورت افقی"
                        ],
                        correctAnswer: 1
                    },
                    {
                        text: "چرا خشک کردن صحیح دست بعد از اسکراب مهم است؟",
                        options: [
                            "برای راحتی دست‌ها",
                            "برای جلوگیری از رشد میکروارگانیسم‌ها در رطوبت",
                            "برای زیبایی دست‌ها",
                            "برای صرفه‌جویی در زمان"
                        ],
                        correctAnswer: 1
                    },
                    {
                        text: "کدام قسمت از دست در خشک کردن باید بیشتر مورد توجه قرار گیرد؟",
                        options: [
                            "کف دست",
                            "بین انگشتان",
                            "نوک انگشتان",
                            "تمام موارد"
                        ],
                        correctAnswer: 3
                    },
                    {
                        text: "در صورت استفاده از حوله استریل، چگونه باید آن را باز کرد؟",
                        options: [
                            "با دستان آلوده",
                            "با کمک شخص دیگر",
                            "به روش استریل بدون تماس با سطوح غیر استریل",
                            "با دندان"
                        ],
                        correctAnswer: 2
                    },
                    {
                        text: "اگر حوله استریل در حین خشک کردن دست به زمین بیفتد، چه باید کرد؟",
                        options: [
                            "استفاده از همان حوله",
                            "برداشتن و ادامه خشک کردن",
                            "استفاده از حوله جدید استریل",
                            "خشک کردن دست با هوای آزاد"
                        ],
                        correctAnswer: 2
                    },
                    {
                        text: "خشک کردن دست باید تا کدام ناحیه ادامه یابد؟",
                        options: [
                            "مچ دست",
                            "نیمه ساعد",
                            "تمام ساعد",
                            "آرنج"
                        ],
                        correctAnswer: 0
                    },
                    {
                        text: "کدام یک از موارد زیر در مورد خشک کردن دست صحیح نیست؟",
                        options: [
                            "باید با حوله استریل انجام شود",
                            "باید کامل و دقیق باشد",
                            "می‌توان با حوله معمولی انجام شود",
                            "باید از انگشتان به سمت مچ دست باشد"
                        ],
                        correctAnswer: 2
                    },
                    {
                        text: "پس از خشک کردن دست، حوله استفاده شده باید چگونه دور انداخته شود؟",
                        options: [
                            "در سطل زباله معمولی",
                            "در سطل زباله پزشکی",
                            "در ظرف مخصوص حوله‌های استفاده شده",
                            "بر روی میز"
                        ],
                        correctAnswer: 2
                    },
                    {
                        text: "هدف اصلی خشک کردن دست بعد از اسکراب چیست؟",
                        options: [
                            "حفظ استریلیته دست‌ها",
                            "راحتی دست‌ها",
                            "زیبایی دست‌ها",
                            "صرفه‌جویی در زمان"
                        ],
                        correctAnswer: 0
                    }
                ]
            },
            3: {
                title: "آزمون پوشیدن گان",
                questions: [
                    {
                        text: "گان جراحی باید چگونه پوشیده شود؟",
                        options: [
                            "از پشت",
                            "از جلو",
                            "از پهلو",
                            "هیچ کدام"
                        ],
                        correctAnswer: 0
                    },
                    {
                        text: "چه کسی باید در پوشیدن گان به فرد جراح کمک کند؟",
                        options: [
                            "کمک جراح",
                            "پرستار گردش",
                            "پرستار اسکراب",
                            "هیچ کدام"
                        ],
                        correctAnswer: 2
                    },
                    {
                        text: "گان جراحی باید تا کجا پوشیده شود؟",
                        options: [
                            "کمر",
                            "زانو",
                            "مچ پا",
                            "مچ دست"
                        ],
                        correctAnswer: 1
                    },
                    {
                        text: "کدام قسمت از گان استریل محسوب می‌شود؟",
                        options: [
                            "قسمت جلویی از کمر به بالا",
                            "قسمت پشتی",
                            "آستین‌ها",
                            "یقه"
                        ],
                        correctAnswer: 0
                    },
                    {
                        text: "پس از پوشیدن گان، دست‌ها باید کجا قرار گیرند؟",
                        options: [
                            "در جیب",
                            "روی سینه",
                            "بالای کمر",
                            "کنار بدن"
                        ],
                        correctAnswer: 2
                    },
                    {
                        text: "برای بستن گان از چه چیزی استفاده می‌شود؟",
                        options: [
                            "کمربند",
                            "نوار چسب",
                            "سنجاق",
                            "هیچ کدام"
                        ],
                        correctAnswer: 0
                    },
                    {
                        text: "در صورت آلوده شدن گان، چه اقدامی باید انجام شود؟",
                        options: [
                            "تعویض گان",
                            "شستشو با الکل",
                            "پوشیدن گان دوم",
                            "هیچ کدام"
                        ],
                        correctAnswer: 0
                    },
                    {
                        text: "گان جراحی معمولاً از چه جنسی است؟",
                        options: [
                            "پنبه",
                            "پارچه ضد آب",
                            "هر دو مورد",
                            "هیچ کدام"
                        ],
                        correctAnswer: 2
                    },
                    {
                        text: "هدف اصلی پوشیدن گان چیست؟",
                        options: [
                            "حفظ استریلیته",
                            "راحتی جراح",
                            "حفظ گرما",
                            "همه موارد"
                        ],
                        correctAnswer: 3
                    },
                    {
                        text: "پس از پوشیدن گان، چه کاری نباید انجام داد؟",
                        options: [
                            "لمس سطوح غیر استریل",
                            "صحبت کردن",
                            "حرکت کردن",
                            "هیچ کدام"
                        ],
                        correctAnswer: 0
                    }
                ]
            },
            4: {
                title: "آزمون پوشیدن دستکش",
                questions: [
                    {
                        text: "کدام روش برای پوشیدن دستکش استریل صحیح است؟",
                        options: [
                            "پوشیدن دستکش با دست مرطوب",
                            "لمس قسمت بیرونی دستکش",
                            "استفاده از روش بسته",
                            "پوشیدن دستکش قبل از گان"
                        ],
                        correctAnswer: 2
                    },
                    {
                        text: "اندازه دستکش جراحی بر چه اساسی انتخاب می‌شود؟",
                        options: [
                            "قد فرد",
                            "اندازه کف دست",
                            "وزن فرد",
                            "سلیقه شخصی"
                        ],
                        correctAnswer: 1
                    },
                    {
                        text: "در صورت پاره شدن دستکش در حین عمل، چه اقدامی باید انجام شود؟",
                        options: [
                            "ادامه عمل با همان دستکش",
                            "تعویض فوری دستکش",
                            "استفاده از دستکش دوم روی آن",
                            "هیچ کدام"
                        ],
                        correctAnswer: 1
                    },
                    {
                        text: "کدام قسمت از دستکش استریل محسوب می‌شود؟",
                        options: [
                            "قسمت داخلی",
                            "قسمت بیرونی",
                            "مچ دستکش",
                            "همه قسمت‌ها"
                        ],
                        correctAnswer: 1
                    },
                    {
                        text: "پس از پوشیدن دستکش، چه کاری نباید انجام داد؟",
                        options: [
                            "لمس صورت",
                            "صحبت کردن",
                            "نفس کشیدن",
                            "هیچ کدام"
                        ],
                        correctAnswer: 0
                    },
                    {
                        text: "هدف اصلی پوشیدن دستکش جراحی چیست؟",
                        options: [
                            "حفظ استریلیته",
                            "راحتی دست‌ها",
                            "جلوگیری از انتقال میکروارگانیسم‌ها",
                            "همه موارد"
                        ],
                        correctAnswer: 3
                    },
                    {
                        text: "دستکش جراحی معمولاً از چه جنسی ساخته می‌شود؟",
                        options: [
                            "لاتکس",
                            "نایلون",
                            "پنبه",
                            "پارچه"
                        ],
                        correctAnswer: 0
                    },
                    {
                        text: "در صورت حساسیت به لاتکس، چه نوع دستکشی باید استفاده شود؟",
                        options: [
                            "دستکش وینیل",
                            "دستکش نایلونی",
                            "دستکش نیتریل",
                            "هر سه مورد"
                        ],
                        correctAnswer: 3
                    },
                    {
                        text: "پس از اتمام عمل، دستکش باید چگونه خارج شود؟",
                        options: [
                            "با کشیدن از نوک انگشتان",
                            "با برگرداندن به inside out",
                            "با قیچی کردن",
                            "هیچ کدام"
                        ],
                        correctAnswer: 1
                    },
                    {
                        text: "کدام یک از موارد زیر در مورد دستکش جراحی صحیح نیست؟",
                        options: [
                            "باید استریل باشد",
                            "باید بدون سوراخ باشد",
                            "می‌تواند مجدداً استفاده شود",
                            "باید اندازه مناسب داشته باشد"
                        ],
                        correctAnswer: 2
                    }
                ]
            },
            5: {
                title: "آزمون پرپ کردن",
                questions: [
                    {
                        text: "هدف اصلی پرپ کردن بیمار چیست؟",
                        options: [
                            "زیبایی ناحیه جراحی",
                            "کاهش میکروارگانیسم‌ها در ناحیه جراحی",
                            "راحتی بیمار",
                            "همه موارد"
                        ],
                        correctAnswer: 1
                    },
                    {
                        text: "کدام ماده برای پرپ کردن ناحیه جراحی استفاده می‌شود؟",
                        options: [
                            "صابون معمولی",
                            "محلول بتادین",
                            "الکل 70%",
                            "محلول کلرهگزیدین"
                        ],
                        correctAnswer: 1
                    },
                    {
                        text: "پرپ کردن از کدام ناحیه شروع می‌شود؟",
                        options: [
                            "مرکز ناحیه جراحی",
                            "لبه‌های ناحیه جراحی",
                            "بالاترین نقطه",
                            "پایین‌ترین نقطه"
                        ],
                        correctAnswer: 0
                    },
                    {
                        text: "در پرپ کردن، حرکت باید به چه صورتی باشد؟",
                        options: [
                            "دایره‌ای",
                            "خطی",
                            "از مرکز به بیرون",
                            "از بیرون به مرکز"
                        ],
                        correctAnswer: 2
                    },
                    {
                        text: "پس از پرپ کردن، چه اقدامی باید انجام شود؟",
                        options: [
                            "خشک کردن با حوله",
                            "رها کردن تا خودش خشک شود",
                            "استفاده از سشوار",
                            "هیچ کدام"
                        ],
                        correctAnswer: 1
                    },
                    {
                        text: "در صورت آلوده شدن ناحیه پرپ شده، چه اقدامی باید انجام شود؟",
                        options: [
                            "پرپ مجدد",
                            "شستشو با آب",
                            "استفاده از الکل",
                            "هیچ کدام"
                        ],
                        correctAnswer: 0
                    },
                    {
                        text: "پرپ کردن برای کدام نوع جراحی اهمیت بیشتری دارد؟",
                        options: [
                            "جراحی زیبایی",
                            "جراحی اورژانسی",
                            "جراحی تمیز",
                            "همه جراحی‌ها"
                        ],
                        correctAnswer: 3
                    },
                    {
                        text: "کدام یک از موارد زیر در مورد پرپ کردن صحیح نیست؟",
                        options: [
                            "باید استریل باشد",
                            "باید کامل باشد",
                            "می‌تواند توسط هرکسی انجام شود",
                            "باید به درستی انجام شود"
                        ],
                        correctAnswer: 2
                    },
                    {
                        text: "مدت زمان مورد نیاز برای خشک شدن محلول پرپ چقدر است？",
                        options: [
                            "30 ثانیه",
                            "1-2 دقیقه",
                            "5 دقیقه",
                            "10 دقیقه"
                        ],
                        correctAnswer: 1
                    },
                    {
                        text: "در پرپ کردن، چه نواحی باید پوشانده شوند؟",
                        options: [
                            "فقط ناحیه جراحی",
                            "ناحیه جراحی و اطراف آن",
                            "کل بدن",
                            "هیچ کدام"
                        ],
                        correctAnswer: 1
                    }
                ]
            },
            6: {
                title: "آزمون درپ کردن",
                questions: [
                    {
                        text: "هدف اصلی درپ کردن چیست؟",
                        options: [
                            "زیبایی میدان جراحی",
                            "ایجاد میدان استریل",
                            "راحتی بیمار",
                            "همه موارد"
                        ],
                        correctAnswer: 1
                    },
                    {
                        text: "درپ‌ها معمولاً از چه جنسی هستند؟",
                        options: [
                            "پارچه کتانی",
                            "پارچه ضد آب",
                            "پارچه استریل یکبار مصرف",
                            "همه موارد"
                        ],
                        correctAnswer: 3
                    },
                    {
                        text: "اولین درپ معمولاً در کدام سمت قرار می‌گیرد؟",
                        options: [
                            "پایین میدان جراحی",
                            "بالای میدان جراحی",
                            "طرف مقابل جراح",
                            "طرف مقابل کمک جراح"
                        ],
                        correctAnswer: 2
                    },
                    {
                        text: "درپ‌ها باید چگونه قرار داده شوند؟",
                        options: [
                            "با فاصله از ناحیه جراحی",
                            "چسبیده به ناحیه جراحی",
                            "به صورت مورب",
                            "هیچ کدام"
                        ],
                        correctAnswer: 1
                    },
                    {
                        text: "در صورت آلوده شدن درپ، چه اقدامی باید انجام شود؟",
                        options: [
                            "تعویض درپ",
                            "شستشو با الکل",
                            "استفاده از درپ دوم",
                            "هیچ کدام"
                        ],
                        correctAnswer: 0
                    },
                    {
                        text: "کدام یک از موارد زیر در مورد درپ کردن صحیح نیست؟",
                        options: [
                            "باید استریل باشد",
                            "باید کامل باشد",
                            "می‌تواند توسط هرکسی انجام شود",
                            "باید به درستی انجام شود"
                        ],
                        correctAnswer: 2
                    },
                    {
                        text: "درپ کردن برای کدام نوع جراحی اهمیت بیشتری دارد؟",
                        options: [
                            "جراحی زیبایی",
                            "جراحی اورژانسی",
                            "جراحی تمیز",
                            "همه جراحی‌ها"
                        ],
                        correctAnswer: 3
                    },
                    {
                        text: "پس از قرار دادن درپ، چه اقدامی باید انجام شود؟",
                        options: [
                            "ثابت کردن با چسب",
                            "ثابت کردن با سنجاق",
                            "رها کردن",
                            "هیچ کدام"
                        ],
                        correctAnswer: 1
                    },
                    {
                        text: "درپ‌ها باید چه ویژگی داشته باشند؟",
                        options: [
                            "ضد آب باشند",
                            "ضد حساسیت باشند",
                            "ضد الکتریسیته ساکن باشند",
                            "همه موارد"
                        ],
                        correctAnswer: 3
                    },
                    {
                        text: "درپ کردن توسط چه کسی انجام می‌شود؟",
                        options: [
                            "جراح",
                            "پرستار اسکراب",
                            "هر دو",
                            "هیچ کدام"
                        ],
                        correctAnswer: 2
                    }
                ]
            },
            7: {
                title: "آزمون چیدمان ست جراحی",
                questions: [
                    {
                        text: "هدف اصلی چیدمان ست جراحی چیست؟",
                        options: [
                            "زیبایی میدان جراحی",
                            "دسترسی راحت به ابزار",
                            "صرفه‌جویی در زمان",
                            "همه موارد"
                        ],
                        correctAnswer: 3
                    },
                    {
                        text: "ابزار جراحی باید چگونه چیده شوند؟",
                        options: [
                            "به صورت تصادفی",
                            "بر اساس ترتیب استفاده",
                            "بر اساس اندازه",
                            "بر اساس رنگ"
                        ],
                        correctAnswer: 1
                    },
                    {
                        text: "کدام ابزار معمولاً در دسترس‌ترین مکان قرار می‌گیرد؟",
                        options: [
                            "ابزار rarely used",
                            "ابزار frequently used",
                            "ابزار بزرگ",
                            "ابزار کوچک"
                        ],
                        correctAnswer: 1
                    },
                    {
                        text: "ست جراحی باید در کجا چیده شود؟",
                        options: [
                            "روی میز جراحی",
                            "روی میز جداگانه",
                            "روی پایه IV",
                            "روی زمین"
                        ],
                        correctAnswer: 0
                    },
                    {
                        text: "در صورت آلوده شدن ابزار، چه اقدامی باید انجام شود؟",
                        options: [
                            "تعویض ابزار",
                            "شستشو با الکل",
                            "استفاده از ابزار جایگزین",
                            "هیچ کدام"
                        ],
                        correctAnswer: 0
                    },
                    {
                        text: "کدام یک از موارد زیر در مورد چیدمان ست جراحی صحیح نیست؟",
                        options: [
                            "باید استریل باشد",
                            "باید کامل باشد",
                            "می‌تواند توسط هرکسی انجام شود",
                            "باید به درستی انجام شود"
                        ],
                        correctAnswer: 2
                    },
                    {
                        text: "چیدمان ست جراحی برای کدام نوع جراحی اهمیت بیشتری دارد؟",
                        options: [
                            "جراحی زیبایی",
                            "جراحی اورژانسی",
                            "جراحی تمیز",
                            "همه جراحی‌ها"
                        ],
                        correctAnswer: 3
                    },
                    {
                        text: "پس از چیدمان ست، چه اقدامی باید انجام شود؟",
                        options: [
                            "پوشاندن با پارچه استریل",
                            "رها کردن",
                            "شستشو با الکل",
                            "هیچ کدام"
                        ],
                        correctAnswer: 0
                    },
                    {
                        text: "ست جراحی باید چه ویژگی داشته باشد؟",
                        options: [
                            "کامل باشد",
                            "استریل باشد",
                            "منظم باشد",
                            "همه موارد"
                        ],
                        correctAnswer: 3
                    },
                    {
                        text: "چیدمان ست جراحی توسط چه کسی انجام می‌شود؟",
                        options: [
                            "جراح",
                            "پرستار اسکراب",
                            "هر دو",
                            "هیچ کدام"
                        ],
                        correctAnswer: 1
                    }
                ]
            },
            8: {
                title: "آزمون تیغ بیستوری",
                questions: [
                    {
                        text: "تیغ بیستوری برای چه منظوری استفاده می‌شود؟",
                        options: [
                            "برش پوست",
                            "برش بافت",
                            "هر دو مورد",
                            "هیچ کدام"
                        ],
                        correctAnswer: 2
                    },
                    {
                        text: "تیغ بیستوری باید چگونه در دست گرفته شود؟",
                        options: [
                            "مانند قلم",
                            "مانند چاقو",
                            "مانند قیچی",
                            "هیچ کدام"
                        ],
                        correctAnswer: 0
                    },
                    {
                        text: "تیغ بیستوری باید با چه زاویه‌ای استفاده شود؟",
                        options: [
                            "45 درجه",
                            "90 درجه",
                            "180 درجه",
                            "بستگی به نوع برش دارد"
                        ],
                        correctAnswer: 3
                    },
                    {
                        text: "در صورت افتادن تیغ بیستوری، چه اقدامی باید انجام شود؟",
                        options: [
                            "استفاده مجدد",
                            "تعویض تیغ",
                            "شستشو با الکل",
                            "هیچ کدام"
                        ],
                        correctAnswer: 1
                    },
                    {
                        text: "تیغ بیستوری پس از استفاده باید چگونه دور انداخته شود؟",
                        options: [
                            "در سطل زباله معمولی",
                            "در ظرف مخصوص اشیاء تیز",
                            "در سطل زباله پزشکی",
                            "هیچ کدام"
                        ],
                        correctAnswer: 1
                    },
                    {
                        text: "کدام یک از موارد زیر در مورد تیغ بیستوری صحیح نیست؟",
                        options: [
                            "باید استریل باشد",
                            "باید تیز باشد",
                            "می‌تواند مجدداً استفاده شود",
                            "باید به درستی استفاده شود"
                        ],
                        correctAnswer: 2
                    },
                    {
                        text: "تیغ بیستوری برای کدام نوع جراحی اهمیت بیشتری دارد؟",
                        options: [
                            "جراحی زیبایی",
                            "جراحی اورژانسی",
                            "جراحی تمیز",
                            "همه جراحی‌ها"
                        ],
                        correctAnswer: 3
                    },
                    {
                        text: "پس از استفاده از تیغ بیستوری، چه اقدامی باید انجام شود؟",
                        options: [
                            "شستشو با آب",
                            "شستشو با الکل",
                            "تعویض تیغ",
                            "هیچ کدام"
                        ],
                        correctAnswer: 2
                    },
                    {
                        text: "تیغ بیستوری باید چه ویژگی داشته باشد؟",
                        options: [
                            "استریل باشد",
                            "تیز باشد",
                            "ایمن باشد",
                            "همه موارد"
                        ],
                        correctAnswer: 3
                    },
                    {
                        text: "استفاده از تیغ بیستوری توسط چه کسی انجام می‌شود؟",
                        options: [
                            "جراح",
                            "پرستار اسکراب",
                            "هر دو",
                            "هیچ کدام"
                        ],
                        correctAnswer: 0
                    }
                ]
            }
        };

        // وضعیت برنامه
        const appState = {
            currentPage: 'main-page',
            currentVideo: null,
            currentQuiz: null,
            currentQuestionIndex: 0,
            userAnswers: [],
            userProfile: {
                firstName: '',
                lastName: '',
                field: '',
                term: ''
            },
            progress: {
                animationsCompleted: 0,
                quizzesCompleted: 0,
                quizScores: {}
            },
            notes: '',
            videoNotes: {}
        };

        // بارگذاری داده‌ها از localStorage
        function loadAppState() {
            const savedState = localStorage.getItem('operatingRoomAppState');
            if (savedState) {
                const parsedState = JSON.parse(savedState);
                Object.assign(appState, parsedState);
                
                // به روزرسانی UI با داده‌های بارگذاری شده
                updateProgressUI();
                updateUserProfileUI();
                updateNotesUI();
            }
        }

        // ذخیره داده‌ها در localStorage
        function saveAppState() {
            localStorage.setItem('operatingRoomAppState', JSON.stringify(appState));
        }

        // به روزرسانی UI پیشرفت
        function updateProgressUI() {
            document.getElementById('animations-progress').textContent = 
                `${appState.progress.animationsCompleted}/8`;
            document.getElementById('animations-progress-bar').style.width = 
                `${(appState.progress.animationsCompleted / 8) * 100}%`;
            
            document.getElementById('quiz-progress').textContent = 
                `${appState.progress.quizzesCompleted}/8`;
            document.getElementById('quiz-progress-bar').style.width = 
                `${(appState.progress.quizzesCompleted / 8) * 100}%`;
            
            document.getElementById('overall-progress').textContent = 
                `${Math.round(((appState.progress.animationsCompleted + appState.progress.quizzesCompleted) / 16) * 100)}%`;
            document.getElementById('overall-progress-bar').style.width = 
                `${((appState.progress.animationsCompleted + appState.progress.quizzesCompleted) / 16) * 100}%`;
            
            // محاسبه میانگین نمرات
            const scores = Object.values(appState.progress.quizScores);
            const averageScore = scores.length > 0 ? 
                Math.round(scores.reduce((a, b) => a + b, 0) / scores.length) : 0;
            document.getElementById('average-score').textContent = averageScore;
            
            // به روزرسانی نمرات آزمون‌ها
            updateQuizScoresUI();
        }

        // به روزرسانی UI پروفایل کاربر
        function updateUserProfileUI() {
            document.getElementById('first-name').value = appState.userProfile.firstName;
            document.getElementById('last-name').value = appState.userProfile.lastName;
            document.getElementById('field').value = appState.userProfile.field;
            document.getElementById('term').value = appState.userProfile.term;
        }

        // به روزرسانی UI یادداشت‌ها
        function updateNotesUI() {
            document.getElementById('notes-editor').value = appState.notes;
            if (appState.currentVideo && appState.videoNotes[appState.currentVideo]) {
                document.getElementById('video-notes').value = appState.videoNotes[appState.currentVideo];
            }
        }

        // به روزرسانی UI نمرات آزمون‌ها
        function updateQuizScoresUI() {
            const quizScoresElement = document.getElementById('quiz-scores');
            quizScoresElement.innerHTML = '';
            
            const quizTitles = {
                1: 'اسکراب کردن',
                2: 'خشک کردن دست',
                3: 'پوشیدن گان',
                4: 'پوشیدن دستکش',
                5: 'پرپ کردن',
                6: 'درپ کردن',
                7: 'چیدمان ست جراحی',
                8: 'استفاده از تیغ بیستوری'
            };
            
            for (let i = 1; i <= 8; i++) {
                const score = appState.progress.quizScores[i] || '-';
                const scoreElement = document.createElement('div');
                scoreElement.className = 'progress-item';
                scoreElement.innerHTML = `
                    <div>${quizTitles[i]}: <span>${score}/100</span></div>
                `;
                quizScoresElement.appendChild(scoreElement);
            }
        }

        // تغییر صفحه
        function showPage(pageId) {
            // مخفی کردن همه صفحات
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // نمایش صفحه مورد نظر
            document.getElementById(pageId).classList.add('active');
            appState.currentPage = pageId;
            
            // بستن منو
            closeMenu();
        }

        // مدیریت منوی کشویی
        function toggleMenu() {
            document.getElementById('side-menu').classList.toggle('active');
            document.getElementById('menu-overlay').classList.toggle('active');
        }

        function closeMenu() {
            document.getElementById('side-menu').classList.remove('active');
            document.getElementById('menu-overlay').classList.remove('active');
        }

        // پخش ویدیو
        function playVideo(lessonId) {
            appState.currentVideo = lessonId;
            const videoInfo = videoData[lessonId];
            
            if (!videoInfo) {
                alert('ویدیوی این درس در حال حاضر موجود نیست.');
                return;
            }
            
            // به روزرسانی اطلاعات ویدیو
            document.getElementById('video-lesson-title').textContent = videoInfo.title;
            document.getElementById('video-title').textContent = videoInfo.title;
            document.getElementById('video-description').textContent = videoInfo.description;
            
            // تنظیم منبع ویدیو
            const videoElement = document.getElementById('educational-video');
            videoElement.innerHTML = `
                <source src="${videoInfo.videoUrl}" type="video/mp4">
                مرورگر شما از پخش ویدیو پشتیبانی نمی‌کند. لطفاً از مرورگر جدیدتری استفاده کنید.
            `;
            
            // بارگذاری مجدد ویدیو
            videoElement.load();
            
            // بارگذاری یادداشت‌های مربوط به این ویدیو
            if (appState.videoNotes[lessonId]) {
                document.getElementById('video-notes').value = appState.videoNotes[lessonId];
            } else {
                document.getElementById('video-notes').value = '';
            }
            
            // نمایش صفحه پخش ویدیو
            showPage('video-player-page');
            
            // افزایش تعداد انیمیشن‌های مشاهده شده
            if (!appState.progress.animationsCompleted) {
                appState.progress.animationsCompleted = 1;
            } else if (appState.progress.animationsCompleted < 8) {
                appState.progress.animationsCompleted++;
            }
            
            saveAppState();
            updateProgressUI();
        }

        // شروع یک آزمون
        function startQuiz(quizId) {
            appState.currentQuiz = quizId;
            appState.currentQuestionIndex = 0;
            appState.userAnswers = [];
            
            // به روزرسانی عنوان آزمون
            document.getElementById('active-quiz-title').textContent = quizData[quizId].title;
            
            // بارگذاری اولین سوال
            loadQuestion(0);
            
            // نمایش صفحه آزمون فعال
            showPage('active-quiz-page');
        }

        // بارگذاری سوال
        function loadQuestion(questionIndex) {
            const quiz = quizData[appState.currentQuiz];
            const question = quiz.questions[questionIndex];
            
            // به روزرسانی شماره سوال
            document.getElementById('quiz-progress-text').textContent = 
                `سوال ${questionIndex + 1} از ${quiz.questions.length}`;
            
            // به روزرسانی متن سوال
            document.getElementById('quiz-question-text').textContent = question.text;
            
            // به روزرسانی گزینه‌ها
            const optionsContainer = document.getElementById('quiz-options');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'quiz-option';
                optionElement.dataset.option = index;
                optionElement.textContent = option;
                
                // اگر کاربر قبلاً به این سوال پاسخ داده، گزینه انتخابی را نشان دهید
                if (appState.userAnswers[questionIndex] === index) {
                    optionElement.classList.add('selected');
                }
                
                optionElement.addEventListener('click', () => selectOption(index));
                optionsContainer.appendChild(optionElement);
            });
            
            // به روزرسانی وضعیت دکمه‌های ناوبری
            document.getElementById('prev-question').disabled = questionIndex === 0;
            document.getElementById('next-question').textContent = 
                questionIndex === quiz.questions.length - 1 ? 'پایان آزمون' : 'سوال بعد';
        }

        // انتخاب گزینه
        function selectOption(optionIndex) {
            const quiz = quizData[appState.currentQuiz];
            const question = quiz.questions[appState.currentQuestionIndex];
            
            // ذخیره پاسخ کاربر
            appState.userAnswers[appState.currentQuestionIndex] = optionIndex;
            
            // علامت‌گذاری گزینه انتخاب شده
            document.querySelectorAll('.quiz-option').forEach(option => {
                option.classList.remove('selected');
            });
            document.querySelector(`.quiz-option[data-option="${optionIndex}"]`).classList.add('selected');
            
            // بررسی پاسخ و نمایش بازخورد
            const isCorrect = optionIndex === question.correctAnswer;
            const quizContainer = document.getElementById('quiz-container');
            
            if (isCorrect) {
                // پاسخ صحیح - صفحه سبز و جشن
                quizContainer.style.backgroundColor = '#d4edda';
                createCelebration();
                
                setTimeout(() => {
                    quizContainer.style.backgroundColor = '';
                }, 1000);
            } else {
                // پاسخ غلط - صفحه قرمز و لرزش
                quizContainer.style.backgroundColor = '#f8d7da';
                quizContainer.classList.add('shake');
                
                setTimeout(() => {
                    quizContainer.style.backgroundColor = '';
                    quizContainer.classList.remove('shake');
                }, 500);
            }
        }

        // ایجاد انیمیشن جشن
        function createCelebration() {
            const celebration = document.createElement('div');
            celebration.className = 'celebration';
            document.body.appendChild(celebration);
            
            // ایجاد متن "آفرین"
            const text = document.createElement('div');
            text.className = 'celebration-text';
            text.textContent = 'آفرین!';
            celebration.appendChild(text);
            
            // ایجاد کنفتی‌ها
            for (let i = 0; i < 150; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.backgroundColor = getRandomColor();
                confetti.style.animationDelay = Math.random() * 2 + 's';
                celebration.appendChild(confetti);
            }
            
            // ایجاد آتش‌بازی
            for (let i = 0; i < 20; i++) {
                createFirework(celebration);
            }
            
            // حذف عنصر جشن پس از اتمام انیمیشن
            setTimeout(() => {
                document.body.removeChild(celebration);
            }, 3000);
        }

        // ایجاد آتش‌بازی
        function createFirework(container) {
            const x = Math.random() * window.innerWidth;
            const y = Math.random() * window.innerHeight / 2;
            
            for (let i = 0; i < 50; i++) {
                const firework = document.createElement('div');
                firework.className = 'celebration-firework';
                firework.style.left = x + 'px';
                firework.style.top = y + 'px';
                firework.style.backgroundColor = getRandomColor();
                
                // جهت‌های تصادفی برای انفجار
                const tx = (Math.random() - 0.5) * 200;
                const ty = (Math.random() - 0.5) * 200;
                firework.style.setProperty('--tx', tx + 'px');
                firework.style.setProperty('--ty', ty + 'px');
                
                container.appendChild(firework);
            }
        }

        // تولید رنگ تصادفی
        function getRandomColor() {
            const colors = ['#f94144', '#f3722c', '#f8961e', '#f9c74f', '#90be6d', '#43aa8b', '#577590', '#ff6b6b', '#48dbfb', '#ff9ff3'];
            return colors[Math.floor(Math.random() * colors.length)];
        }

        // رفتن به سوال بعدی
        function nextQuestion() {
            const quiz = quizData[appState.currentQuiz];
            
            if (appState.currentQuestionIndex < quiz.questions.length - 1) {
                appState.currentQuestionIndex++;
                loadQuestion(appState.currentQuestionIndex);
            } else {
                // پایان آزمون
                finishQuiz();
            }
        }

        // رفتن به سوال قبلی
        function prevQuestion() {
            if (appState.currentQuestionIndex > 0) {
                appState.currentQuestionIndex--;
                loadQuestion(appState.currentQuestionIndex);
            }
        }

        // پایان آزمون
        function finishQuiz() {
            const quiz = quizData[appState.currentQuiz];
            let correctAnswers = 0;
            
            // شمارش پاسخ‌های صحیح
            quiz.questions.forEach((question, index) => {
                if (appState.userAnswers[index] === question.correctAnswer) {
                    correctAnswers++;
                }
            });
            
            // محاسبه نمره
            const score = Math.round((correctAnswers / quiz.questions.length) * 100);
            
            // ذخیره نمره
            appState.progress.quizScores[appState.currentQuiz] = score;
            
            // به روزرسانی تعداد آزمون‌های تکمیل شده
            if (score > 0 && !appState.progress.quizzesCompleted) {
                appState.progress.quizzesCompleted = 1;
            } else if (score > 0 && appState.progress.quizzesCompleted < 8) {
                appState.progress.quizzesCompleted++;
            }
            
            // ذخیره وضعیت و به روزرسانی UI
            saveAppState();
            updateProgressUI();
            
            // نمایش نتیجه
            alert(`آزمون به پایان رسید!\n\nنمره شما: ${score}/100\n\n${correctAnswers} از ${quiz.questions.length} سوال صحیح پاسخ داده شد.`);
            
            // بازگشت به صفحه آزمون‌ها
            showPage('quiz-page');
        }

        // ذخیره پروفایل کاربر
        function saveUserProfile() {
            appState.userProfile.firstName = document.getElementById('first-name').value;
            appState.userProfile.lastName = document.getElementById('last-name').value;
            appState.userProfile.field = document.getElementById('field').value;
            appState.userProfile.term = document.getElementById('term').value;
            
            saveAppState();
            alert('اطلاعات کاربری با موفقیت ذخیره شد.');
        }

        // ذخیره یادداشت‌ها
        function saveNotes() {
            appState.notes = document.getElementById('notes-editor').value;
            saveAppState();
            alert('یادداشت‌ها با موفقیت ذخیره شد.');
        }

        // ذخیره یادداشت‌های ویدیو
        function saveVideoNotes() {
            if (appState.currentVideo) {
                appState.videoNotes[appState.currentVideo] = document.getElementById('video-notes').value;
                saveAppState();
                alert('یادداشت‌های ویدیو با موفقیت ذخیره شد.');
            }
        }

        // مدیریت پخش ویدیو
        function setupVideoPlayer() {
            const video = document.getElementById('educational-video');
            const playPauseBtn = document.getElementById('play-pause-btn');
            const playPauseIcon = playPauseBtn.querySelector('i');
            const progressText = document.getElementById('video-progress');
            
            video.addEventListener('play', function() {
                playPauseIcon.className = 'fas fa-pause';
                playPauseBtn.innerHTML = '<i class="fas fa-pause"></i> توقف';
            });
            
            video.addEventListener('pause', function() {
                playPauseIcon.className = 'fas fa-play';
                playPauseBtn.innerHTML = '<i class="fas fa-play"></i> پخش';
            });
            
            video.addEventListener('timeupdate', function() {
                const progress = (video.currentTime / video.duration) * 100;
                progressText.textContent = `پیشرفت: ${Math.round(progress)}%`;
            });
            
            playPauseBtn.addEventListener('click', function() {
                if (video.paused) {
                    video.play();
                } else {
                    video.pause();
                }
            });
        }

        // خروج از برنامه
        function exitApp() {
            if (confirm('آیا از خروج از برنامه اطمینان دارید؟')) {
                // در مرورگر وب، نمی‌توانیم برنامه را ببندیم، اما می‌توانیم یک پیام نشان دهیم
                alert('با تشکر از استفاده شما از اپلیکیشن آموزش اتاق عمل');
                // در یک اپلیکیشن واقعی، اینجا کد بستن اپلیکیشن قرار می‌گیرد
            }
        }

        // راه‌اندازی برنامه
        function initializeApp() {
            // بارگذاری وضعیت برنامه
            loadAppState();
            
            // رویدادهای ناوبری اصلی
            document.getElementById('menu-toggle').addEventListener('click', toggleMenu);
            document.getElementById('menu-overlay').addEventListener('click', closeMenu);
            document.getElementById('exit-app').addEventListener('click', exitApp);
            
            document.getElementById('animations-btn').addEventListener('click', () => showPage('animations-page'));
            document.getElementById('quiz-btn').addEventListener('click', () => showPage('quiz-page'));
            
            // رویدادهای منو
            document.getElementById('menu-user-profile').addEventListener('click', () => showPage('user-profile-page'));
            document.getElementById('menu-mission').addEventListener('click', () => showPage('mission-page'));
            document.getElementById('menu-notebook').addEventListener('click', () => showPage('notebook-page'));
            document.getElementById('menu-contact').addEventListener('click', () => showPage('contact-page'));
            
            // رویدادهای دکمه‌های بازگشت
            document.getElementById('back-from-animations').addEventListener('click', () => showPage('main-page'));
            document.getElementById('back-from-quiz').addEventListener('click', () => showPage('main-page'));
            document.getElementById('back-from-user-profile').addEventListener('click', () => showPage('main-page'));
            document.getElementById('back-from-mission').addEventListener('click', () => showPage('main-page'));
            document.getElementById('back-from-notebook').addEventListener('click', () => showPage('main-page'));
            document.getElementById('back-from-contact').addEventListener('click', () => showPage('main-page'));
            document.getElementById('back-from-active-quiz').addEventListener('click', () => showPage('quiz-page'));
            document.getElementById('back-from-video').addEventListener('click', () => showPage('animations-page'));
            
            // رویدادهای دایره‌های انیمیشن
            document.querySelectorAll('.circle-card[data-lesson]').forEach(card => {
                card.addEventListener('click', function() {
                    const lessonId = this.getAttribute('data-lesson');
                    playVideo(parseInt(lessonId));
                });
            });
            
            // رویدادهای دایره‌های آزمون
            document.querySelectorAll('.circle-card[data-quiz]').forEach(card => {
                card.addEventListener('click', function() {
                    const quizId = this.getAttribute('data-quiz');
                    startQuiz(parseInt(quizId));
                });
            });
            
            // رویدادهای آزمون فعال
            document.getElementById('prev-question').addEventListener('click', prevQuestion);
            document.getElementById('next-question').addEventListener('click', nextQuestion);
            
            // رویدادهای ذخیره
            document.getElementById('save-profile').addEventListener('click', saveUserProfile);
            document.getElementById('save-notes').addEventListener('click', saveNotes);
            document.getElementById('save-video-notes').addEventListener('click', saveVideoNotes);
            
            // راه‌اندازی پخش‌کننده ویدیو
            setupVideoPlayer();
        }

        // راه‌اندازی برنامه پس از بارگذاری DOM
        document.addEventListener('DOMContentLoaded', initializeApp);
    </script>
</body>
</html>